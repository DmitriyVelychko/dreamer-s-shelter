{"version":3,"sources":["script.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,WAAW,SAAS,QAAT,GAAoB;AACjC,MAAI,QAAQ,SAAS,KAAT,CAAe,GAAf,EAAoB,QAApB,EAA8B;AACxC,QAAI,eAAe,oBAAoB,KAAK,KAAL,CAAW,SAAS,KAAK,MAAL,EAApB,CAAvC;AACA,QAAI,SAAS,SAAS,aAAT,CAAuB,QAAvB,CAAb;AACA,WAAO,YAAP,IAAuB,UAAU,IAAV,EAAgB;AACrC,aAAO,OAAO,YAAP,CAAP;AACA,eAAS,IAAT,CAAc,WAAd,CAA0B,MAA1B;AACA,eAAS,IAAT;AACD,KAJD;;AAMA,WAAO,GAAP,GAAa,OAAO,IAAI,OAAJ,CAAY,GAAZ,KAAoB,CAApB,GAAwB,GAAxB,GAA8B,GAArC,IAA4C,WAA5C,GAA0D,YAAvE;AACA,aAAS,IAAT,CAAc,WAAd,CAA0B,MAA1B;AACD,GAXD;;AAaA,MAAI,UAAU,SAAS,OAAT,CAAiB,IAAjB,EAAuB;AACnC,QAAI,cAAc,SAAS,aAAT,CAAuB,eAAvB,CAAlB;AACA,gBAAY,SAAZ,GAAwB,EAAxB;AACA,QAAI,CAAC,KAAK,KAAV,EAAiB;AACf,UAAI,MAAM,SAAS,aAAT,CAAuB,GAAvB,CAAV;AACA,UAAI,SAAJ,GAAgB,OAAhB;AACA,UAAI,SAAJ,GAAgB,2CAAhB;AACA,kBAAY,WAAZ,CAAwB,GAAxB;AACA;AACD;;AAED,QAAI,UAAU,KAAK,KAAL,CAAW,KAAzB;AACA,SAAK,IAAI,CAAT,IAAc,OAAd,EAAuB;AACrB,UAAI,GAAG,cAAH,CAAkB,IAAlB,CAAuB,OAAvB,EAAgC,CAAhC,CAAJ,EAAwC;AACtC,YAAI,OAAO,SAAS,aAAT,CAAuB,GAAvB,CAAX;AACA,YAAI,QAAQ,SAAS,aAAT,CAAuB,IAAvB,CAAZ;AACA,YAAI,OAAO,SAAS,aAAT,CAAuB,GAAvB,CAAX;AACA,aAAK,SAAL,GAAiB,WAAjB;AACA,aAAK,IAAL,GAAY,wCAAwC,QAAQ,CAAR,EAAW,MAA/D;AACA,aAAK,MAAL,GAAc,QAAd;AACA,cAAM,SAAN,GAAkB,QAAQ,CAAR,EAAW,KAA7B;AACA,aAAK,SAAL,GAAiB,QAAQ,CAAR,EAAW,OAA5B;AACA,oBAAY,WAAZ,CAAwB,IAAxB;AACA,aAAK,WAAL,CAAiB,KAAjB;AACA,aAAK,WAAL,CAAiB,IAAjB;AACD;AACF;AACF,GA3BD;;AA6BA,MAAI,aAAa,SAAS,aAAT,CAAuB,eAAvB,CAAjB;;AAEA,MAAI,MAAM,yMAAyM,WAAW,KAApN,GAA4N,yBAAtO;;AAEA,QAAM,GAAN,EAAW,OAAX;AACD,CAhDD;;AAkDA,SAAS,aAAT,CAAuB,aAAvB,EAAsC,gBAAtC,CAAuD,OAAvD,EAAgE,QAAhE,EAA0E,KAA1E","file":"script-compiled.js","sourcesContent":["'use strict';\n\nvar getJsonp = function getJsonp() {\n  var jsonp = function jsonp(url, callback) {\n    var callbackName = 'jsonp_callback_' + Math.round(100000 * Math.random());\n    var script = document.createElement('script');\n    window[callbackName] = function (data) {\n      delete window[callbackName];\n      document.body.removeChild(script);\n      callback(data);\n    };\n\n    script.src = url + (url.indexOf('?') >= 0 ? '&' : '?') + 'callback=' + callbackName;\n    document.body.appendChild(script);\n  };\n\n  var getWiki = function getWiki(data) {\n    var articleList = document.querySelector('.article-list');\n    articleList.innerHTML = '';\n    if (!data.query) {\n      var err = document.createElement('p');\n      err.className = 'error';\n      err.innerHTML = 'There were no results matching the query.';\n      articleList.appendChild(err);\n      return;\n    }\n\n    var newData = data.query.pages;\n    for (var i in newData) {\n      if ({}.hasOwnProperty.call(newData, i)) {\n        var link = document.createElement('a');\n        var title = document.createElement('h3');\n        var info = document.createElement('p');\n        link.className = 'wiki-info';\n        link.href = 'http://en.wikipedia.org/wiki?curid=' + newData[i].pageid;\n        link.target = '_blank';\n        title.innerHTML = newData[i].title;\n        info.innerHTML = newData[i].extract;\n        articleList.appendChild(link);\n        link.appendChild(title);\n        link.appendChild(info);\n      };\n    }\n  };\n\n  var inputField = document.querySelector('.search-input');\n\n  var url = 'https://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrnamespace=&gsrlimit=10&prop=pageimages|extracts&pilimit=max&exintro&explaintext&exsentences=1&exlimit=max&gsrsearch=' + inputField.value + '&callback=JSON_CALLBACK';\n\n  jsonp(url, getWiki);\n};\n\ndocument.querySelector('.search-btn').addEventListener('click', getJsonp, false);"]}