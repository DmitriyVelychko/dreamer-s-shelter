{"version":3,"sources":["script.js"],"names":[],"mappings":"AAAA,MAAM,WAAW,MAAM;AACrB,QAAM,QAAQ,CAAC,GAAD,EAAM,QAAN,KAAmB;AAC/B,UAAM,eAAe,CAAC,eAAD,GAAkB,KAAK,KAAL,CAAW,SAAS,KAAK,MAAL,EAApB,CAAlB,EAAA,AAAqD,CAA1E;AACA,UAAM,SAAS,SAAS,aAAT,CAAuB,QAAvB,CAAf;AACA,WAAO,YAAP,IAAwB,IAAD,IAAU;AAC/B,aAAO,OAAO,YAAP,CAAP;AACA,eAAS,IAAT,CAAc,WAAd,CAA0B,MAA1B;AACA,eAAS,IAAT;AACD,KAJD;;AAMA,WAAO,GAAP,GAAa,OAAO,IAAI,OAAJ,CAAY,GAAZ,KAAoB,CAApB,GAAwB,GAAxB,GAA8B,GAArC,IAA4C,WAA5C,GAA0D,YAAvE;AACA,aAAS,IAAT,CAAc,WAAd,CAA0B,MAA1B;AACD,GAXD;;AAaA,QAAM,UAAW,IAAD,IAAU;AACxB,UAAM,cAAc,SAAS,aAAT,CAAuB,eAAvB,CAApB;AACA,gBAAY,SAAZ,GAAwB,EAAxB;AACA,QAAI,CAAC,KAAK,KAAV,EAAiB;AACf,YAAM,MAAM,SAAS,aAAT,CAAuB,GAAvB,CAAZ;AACA,UAAI,SAAJ,GAAgB,OAAhB;AACA,UAAI,SAAJ,GAAgB,2CAAhB;AACA,kBAAY,WAAZ,CAAwB,GAAxB;AACA;AACD;;AAED,UAAM,UAAU,KAAK,KAAL,CAAW,KAA3B;AACA,SAAK,MAAM,CAAX,IAAgB,OAAhB,EAAyB;AACvB,UAAI,GAAG,cAAH,CAAkB,IAAlB,CAAuB,OAAvB,EAAgC,CAAhC,CAAJ,EAAwC;AACtC,cAAM,OAAO,SAAS,aAAT,CAAuB,GAAvB,CAAb;AACA,cAAM,QAAQ,SAAS,aAAT,CAAuB,IAAvB,CAAd;AACA,cAAM,OAAO,SAAS,aAAT,CAAuB,GAAvB,CAAb;AACA,aAAK,SAAL,GAAiB,WAAjB;AACA,aAAK,IAAL,GAAY,CAAC,mCAAD,GAAsC,QAAQ,CAAR,EAAW,MAAjD,EAAA,AAAwD,CAApE;AACA,aAAK,MAAL,GAAc,QAAd;AACA,cAAM,SAAN,GAAkB,QAAQ,CAAR,EAAW,KAA7B;AACA,aAAK,SAAL,GAAiB,QAAQ,CAAR,EAAW,OAA5B;AACA,oBAAY,WAAZ,CAAwB,IAAxB;AACA,aAAK,WAAL,CAAiB,KAAjB;AACA,aAAK,WAAL,CAAiB,IAAjB;AACD;AACF;AACF,GA3BD;;AA6BA,QAAM,aAAa,SAAS,aAAT,CAAuB,eAAvB,CAAnB;;AAEA,QAAM,MAAM,CAAC,oMAAD,GAAuM,WAAW,KAAlN,EAAwN,uBAAxN,CAAZ;;AAEA,QAAM,GAAN,EAAW,OAAX;AACD,CAhDD;;AAkDA,SAAS,aAAT,CAAuB,aAAvB,EAAsC,gBAAtC,CAAuD,OAAvD,EAAgE,QAAhE,EAA0E,KAA1E","file":"script-compiled.js","sourcesContent":["const getJsonp = () => {\r\n  const jsonp = (url, callback) => {\r\n    const callbackName = `jsonp_callback_${Math.round(100000 * Math.random())}`;\r\n    const script = document.createElement('script');\r\n    window[callbackName] = (data) => {\r\n      delete window[callbackName];\r\n      document.body.removeChild(script);\r\n      callback(data);\r\n    };\r\n\r\n    script.src = url + (url.indexOf('?') >= 0 ? '&' : '?') + 'callback=' + callbackName;\r\n    document.body.appendChild(script);\r\n  };\r\n\r\n  const getWiki = (data) => {\r\n    const articleList = document.querySelector('.article-list');\r\n    articleList.innerHTML = '';\r\n    if (!data.query) {\r\n      const err = document.createElement('p');\r\n      err.className = 'error';\r\n      err.innerHTML = 'There were no results matching the query.';\r\n      articleList.appendChild(err);\r\n      return;\r\n    }\r\n\r\n    const newData = data.query.pages;\r\n    for (const i in newData) {\r\n      if ({}.hasOwnProperty.call(newData, i)) {\r\n        const link = document.createElement('a');\r\n        const title = document.createElement('h3');\r\n        const info = document.createElement('p');\r\n        link.className = 'wiki-info';\r\n        link.href = `http://en.wikipedia.org/wiki?curid=${newData[i].pageid}`;\r\n        link.target = '_blank';\r\n        title.innerHTML = newData[i].title;\r\n        info.innerHTML = newData[i].extract;\r\n        articleList.appendChild(link);\r\n        link.appendChild(title);\r\n        link.appendChild(info);\r\n      };\r\n    }\r\n  };\r\n\r\n  const inputField = document.querySelector('.search-input');\r\n\r\n  const url = `https://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrnamespace=&gsrlimit=10&prop=pageimages|extracts&pilimit=max&exintro&explaintext&exsentences=1&exlimit=max&gsrsearch=${inputField.value}&callback=JSON_CALLBACK`;\r\n\r\n  jsonp(url, getWiki);\r\n};\r\n\r\ndocument.querySelector('.search-btn').addEventListener('click', getJsonp, false);\r\n"]}